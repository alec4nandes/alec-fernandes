<!DOCTYPE html> <html lang="en"> <head> <!-- Google tag (gtag.js) --> <script async src="https://www.googletagmanager.com/gtag/js?id=G-7QM5KTX0XK"></script> <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'G-7QM5KTX0XK');
</script> <meta charset="UTF-8"/> <meta http-equiv="X-UA-Compatible" content="IE=edge"/> <meta name="viewport" content="width=device-width, initial-scale=1.0"/> <meta name="type" property="og:type" content="website"/> <meta name="title" property="og:title" content="JavaScript's Different Size Properties for DOM Elements &mdash; Alec Fernandes"/> <meta name="url" property="og:url" content="https-fern-haus-posts-javascript-different-size-properties-html"/> <meta name="description" property="og:description" content="Learn about the dimensional data attached to each JavaScript-selected element. &mdash; Tech &mdash; JavaScript, DOM, innerHeight, scrollHeight, offsetHeight"/> <meta name="image" property="og:image" content="https://fern.haus/assets/feature-images/javascript-different-size-properties.jpg"/> <!-- twitter meta tags --> <meta name="twitter:card" content="summary_large_image"/> <meta name="twitter:site" content="@alec4nandes"/> <meta name="twitter:title" content="JavaScript's Different Size Properties for DOM Elements &mdash; Alec Fernandes"/> <meta name="twitter:description" content="Learn about the dimensional data attached to each JavaScript-selected element. &mdash; Tech &mdash; JavaScript, DOM, innerHeight, scrollHeight, offsetHeight"/> <meta name="twitter:image" content="https://fern.haus/assets/feature-images/javascript-different-size-properties.jpg"/> <!-- end meta tags --> <title>JavaScript's Different Size Properties for DOM Elements &mdash; Alec Fernandes</title> <link rel="icon" type="image/x-icon" href="/assets/logo/favicon.png"/> <link rel="stylesheet" href="/css/blog.css"/> </head> <body> <header> <div id="name-and-logo"> <button id="hamburger-menu-button"> <img src="/assets/hamburger-menu-icon.png" /> </button> <a href="/"> <div id="logo-container"> <img id="header-logo" src="/assets/logo/fern-haus-site-logo.png" alt="Fern Haus logo: a house wrapped with two fern branches." /> </div> <div id="blog-name"> <span>Alec</span> <span>Fernandes</span> </div> </a> </div> <div id="hamburger-menu" class="closed"> <button id="close-menu"> <img src="/assets/hamburger-menu-close-icon.png" /> </button> <h2>Menu</h2> <a href="/">Home</a> <a href="/categories">All Categories</a> <a href="/tags">All Tags</a> <a href="/about">About</a> <a href="/portfolio" target="_blank">Published Work</a> <a href="/tags/my-projects">Web Dev Projects</a> <a href="/gallery" target="_blank">Graphic Design</a> <a href="/about">Contact</a> <section class="social-icons"> <a href="https://twitter.com/alec4nandes" target="_blank"> <img class="x-icon" src="/assets/social/x.png"/> </a> <a href="https://instagram.com/alec4nandes" target="_blank"> <img class="instagram-icon" src="/assets/social/instagram.png"/> </a> <a href="https://www.tiktok.com/@alec4nandes" target="_blank"> <img class="tiktok-icon" src="/assets/social/tiktok.png"/> </a> </section> </div> </header> <main> <section id="main-content"> <div id="posts-container"> <div id="latest-post"> <div class="single-post whole-post"> <div class="post-categories"> <a class="post-category-link" href="/categories/tech"> Tech </a> </div> <div class="whole-post-image-container"> <img src="/assets/feature-images/javascript-different-size-properties.jpg" alt=""/> </div> <p class="caption"> <em>Photo by <a href="https://unsplash.com/@fakurian?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText" target="_blank" rel="noopener">Milad Fakurian</a> on <a href="https://unsplash.com/photos/PpgY7sjpf_0?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText" target="_blank" rel="noopener">Unsplash</a></em> </p> <h1>JavaScript's Different Size Properties for DOM Elements</h1> <p class="subtitle"> Learn about the dimensional data attached to each JavaScript-selected element. </p> <p class="date-posted"> 2023-06-29T14:50-07:00 </p> <p class="blurb"> I wrote the following code that changes an element's CSS properties based on the user's scroll position. Normally the element is <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/position#fixed" target="_blank" rel="noopener">fixed</a> to the bottom of the screen, but I didn't want it to overlap with the footer once the user scrolls to the bottom of the page. </p> <p> The example uses different height properties for different elements. For the browser <em>window</em> I grab the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/innerHeight" target="_blank" rel="noopener">innerHeight</a> property. For the <em>body</em> height I take the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight" target="_blank" rel="noopener">scrollHeight</a> property. And for the <em>footer</em> height I use the <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetHeight" target="_blank" rel="noopener">offsetHeight</a> property.</p> <p> Each one of these properties has subtle differences. <strong>Window.innerHeight</strong> doesn't take into account any content that overflows the browser <em>window</em> â€” it only measures the height of the viewport. To get the no-overflow height for other elements, including padding and borders, use <strong>Element.offsetHeight</strong>. To get the height of an element's scrollable content, use <strong>Element.scrollHeight</strong>. </p> <p> There are also corresponding width properties: </p> <ul> <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/innerWidth" target="_blank" rel="noopener">innerWidth</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollWidth" target="_blank" rel="noopener">scrollWidth</a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/offsetWidth" target="_blank" rel="noopener">offsetWidth</a></li> </ul> <pre><code><xmp>stopFixedScrollAboveFooter();

function stopFixedScrollAboveFooter() {
  stopFixedScrollAboveFooterHelper();
  window.onscroll = stopFixedScrollAboveFooterHelper;
}

function stopFixedScrollAboveFooterHelper() {
  const {scrollY: scrollPos, innerHeight: screenHeight} = window,
    bodyHeight = document.body.scrollHeight,
    footerHeight = document.querySelector("footer").offsetHeight,
    isRemoveFixed = scrollPos + screenHeight > bodyHeight - footerHeight,
    fixedElem = document.querySelector(".fixed");
  fixedElem.style.position = isRemoveFixed ? "absolute" : "fixed";
  fixedElem.style.bottom = isRemoveFixed ? `${footerHeight}px` : 0;
}
</xmp></code></pre> <br/> </div> </div> </div> </section> <section id="sidebar" class="whole-post-sidebar"> <div id="categories-and-tags"> <a id="home-link" href="/">Go Home</a> <section class="social-icons"> <a href="https://twitter.com/alec4nandes" target="_blank"> <img class="x-icon" src="/assets/social/x.png"/> </a> <a href="https://instagram.com/alec4nandes" target="_blank"> <img class="instagram-icon" src="/assets/social/instagram.png"/> </a> <a href="https://www.tiktok.com/@alec4nandes" target="_blank"> <img class="tiktok-icon" src="/assets/social/tiktok.png"/> </a> </section> <div id="categories"> <div id="categories-sidebar-heading"> <h2>Post Categories</h2> <a class="all-categories-link" href="/categories">all categories</a> </div> <a class="category-link" href="/categories/tech" style="background-image: url('/assets/categories/tech.jpg');" > <span>Tech</span> </a> </div> <div id="tags"> <h2>Post Tags</h2> <a href="/tags">all tags</a> <ul class="tags-list"> <li> <a class="tag-link" href="/tags/javascript"> JavaScript </a> </li> <li> <a class="tag-link" href="/tags/dom"> DOM </a> </li> <li> <a class="tag-link" href="/tags/innerheight"> innerHeight </a> </li> <li> <a class="tag-link" href="/tags/scrollheight"> scrollHeight </a> </li> <li> <a class="tag-link" href="/tags/offsetheight"> offsetHeight </a> </li> </ul> </div> </div> </section> </main> <footer> <p> <em>&copy; Alec Fernandes 2024</em> </p> <p> <a href="/about">About</a> </p> </footer> <script src="/src/scripts.js"></script> </body> </html>