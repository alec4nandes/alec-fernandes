<!DOCTYPE html> <html lang="en"> <head> <!-- Google tag (gtag.js) --> <script async src="https://www.googletagmanager.com/gtag/js?id=G-7QM5KTX0XK"></script> <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'G-7QM5KTX0XK');
</script> <meta charset="UTF-8"/> <meta http-equiv="X-UA-Compatible" content="IE=edge"/> <meta name="viewport" content="width=device-width, initial-scale=1.0"/> <title>Alec Fernandes &mdash; Blog</title> <!-- meta_tags --> <meta name="type" property="og:type" content="website"/> <meta name="title" property="og:title" content="Alec Fernandes &mdash; Blog"/> <meta name="url" property="og:url" content="https://fern.haus"/> <meta name="description" property="og:description" content="I write about web development, Buddhist meditation, mushrooms, and much more!"/> <meta name="image" property="og:image" content="https://fern.haus/assets/ocean-gliderport-background.jpg"/> <!-- twitter meta tags --> <meta name="twitter:card" content="summary_large_image"/> <meta name="twitter:site" content="@alec4nandes"/> <meta name="twitter:title" content="Alec Fernandes &mdash; Blog"/> <meta name="twitter:description" content="I write about web development, Buddhist meditation, mushrooms, and much more!"/> <meta name="twitter:image" content="https://fern.haus/assets/ocean-gliderport-background.jpg"/> <!-- end meta tags --> <link rel="icon" type="image/x-icon" href="/assets/logo/favicon.ico"/> <link rel="stylesheet" href="/css/style.css"/> <link rel="stylesheet" href="/css/header-menu.css"/> <link rel="stylesheet" href="/css/article.css"/> </head> <body> <header class="small-header-container"> <div class="small-header"> <h1> <a href="/">Alec Fernandes</a> </h1> </div> </header> <div class="subscribe-container"> <div class="subscribe"> <button class="open-nav" onclick="toggleNavMenu(true)"> <img src="/assets/icons8-menu-64.png" alt=""/> </button> <nav class="closed"> <button class="close-nav" onclick="toggleNavMenu(false)"> <img src="/assets/icons8-close-30.png" alt=""/> </button> <ul> <li> <a href="/">Home</a> </li> <li> <a href="/blog">Blog</a> </li> <li> <a href="/contact">Contact</a> </li> </ul> <h2 class="nav-heading"> Projects <a href="https://github.com/alec4nandes" target="_blank" rel="noopener" > <img src="/assets/icons8-github-30.png" alt=""/> </a> </h2> <ul> <li> <a href="/blog/prova-lab.html"> prova lab </a> </li> <li> <a href="/blog/mushrooms.html"> mushrooms </a> </li> <li> <a href="/blog/moon-sun-tides-api.html"> moon sun tides api </a> </li> <li> <a href="/blog/kings-corner.html"> kings corner </a> </li> <li> <a href="/blog/dharma-gem.html"> dharma gem </a> </li> <li> <a href="/blog/iching.html"> iching </a> </li> <li> <a href="/blog/timers.html"> timers </a> </li> <li> <a href="/blog/dharma-deck.html"> dharma deck </a> </li> <li> <a href="/blog/buddhist-ebook.html"> buddhist ebook </a> </li> </ul> <h2 class="nav-heading">Graphic Design</h2> <ul> <li> <a href="/gallery">Gallery</a> </li> </ul> <h2 class="nav-heading">Tags</h2> <ul> <li> <a href="/tags/3d.html">3D</a> </li> <li> <a href="/tags/animations.html">animations</a> </li> <li> <a href="/tags/api.html">API</a> </li> <li> <a href="/tags/ariana-huffington.html">Ariana Huffington</a> </li> <li> <a href="/tags/art.html">art</a> </li> <li> <a href="/tags/buddhism.html">Buddhism</a> </li> <li> <a href="/tags/cards.html">cards</a> </li> <li> <a href="/tags/china.html">China</a> </li> <li> <a href="/tags/client.html">client</a> </li> <li> <a href="/tags/coupling.html">coupling</a> </li> <li> <a href="/tags/css.html">CSS</a> </li> <li> <a href="/tags/dates.html">dates</a> </li> <li> <a href="/tags/design.html">design</a> </li> <li> <a href="/tags/diana-smith.html">Diana Smith</a> </li> <li> <a href="/tags/documentation.html">documentation</a> </li> <li> <a href="/tags/dom.html">DOM</a> </li> <li> <a href="/tags/dry.html">DRY</a> </li> <li> <a href="/tags/ebooks.html">eBooks</a> </li> <li> <a href="/tags/editor-x.html">Editor X</a> </li> <li> <a href="/tags/epubcheck.html">epubcheck</a> </li> <li> <a href="/tags/event-listeners.html">event listeners</a> </li> <li> <a href="/tags/firebase.html">Firebase</a> </li> <li> <a href="/tags/free.html">free</a> </li> <li> <a href="/tags/free-downloads.html">free downloads</a> </li> <li> <a href="/tags/games.html">games</a> </li> <li> <a href="/tags/geolocation.html">geolocation</a> </li> <li> <a href="/tags/google-firebase.html">Google Firebase</a> </li> <li> <a href="/tags/google-maps.html">Google Maps</a> </li> <li> <a href="/tags/graphic-design.html">graphic design</a> </li> <li> <a href="/tags/hooks.html">hooks</a> </li> <li> <a href="/tags/html.html">HTML</a> </li> <li> <a href="/tags/http-restrictions.html">HTTP restrictions</a> </li> <li> <a href="/tags/innerheight.html">innerHeight</a> </li> <li> <a href="/tags/innovation.html">innovation</a> </li> <li> <a href="/tags/javascript.html">JavaScript</a> </li> <li> <a href="/tags/kabbalah.html">Kabbalah</a> </li> <li> <a href="/tags/landing-pages.html">landing pages</a> </li> <li> <a href="/tags/layouts.html">layouts</a> </li> <li> <a href="/tags/leaks.html">leaks</a> </li> <li> <a href="/tags/libraries.html">libraries</a> </li> <li> <a href="/tags/mushroom-observer.html">Mushroom Observer</a> </li> <li> <a href="/tags/mushrooms.html">mushrooms</a> </li> <li> <a href="/tags/nature.html">nature</a> </li> <li> <a href="/tags/npm.html">npm</a> </li> <li> <a href="/tags/offsetheight.html">offsetHeight</a> </li> <li> <a href="/tags/parallax-scrolling.html">parallax scrolling</a> </li> <li> <a href="/tags/pomodoro.html">Pomodoro</a> </li> <li> <a href="/tags/productivity.html">productivity</a> </li> <li> <a href="/tags/projects.html">projects</a> </li> <li> <a href="/tags/prova-lab.html">Prova Lab</a> </li> <li> <a href="/tags/pseudocode.html">pseudocode</a> </li> <li> <a href="/tags/react.html">React</a> </li> <li> <a href="/tags/san-francisco.html">San Francisco</a> </li> <li> <a href="/tags/sass.html">Sass</a> </li> <li> <a href="/tags/scrollheight.html">scrollHeight</a> </li> <li> <a href="/tags/security.html">security</a> </li> <li> <a href="/tags/taoism.html">Taoism</a> </li> <li> <a href="/tags/tarot.html">tarot</a> </li> <li> <a href="/tags/template-literals.html">template literals</a> </li> <li> <a href="/tags/validation.html">validation</a> </li> <li> <a href="/tags/vpn.html">VPN</a> </li> <li> <a href="/tags/webpack.html">Webpack</a> </li> <li> <a href="/tags/wix.html">Wix</a> </li> <li> <a href="/tags/wix-studio.html">Wix Studio</a> </li> <li> <a href="/tags/workflow.html">workflow</a> </li> <li> <a href="/tags/workouts.html">workouts</a> </li> <li> <a href="/tags/wysiwyg.html">wysiwyg</a> </li> <li> <a href="/tags/yin-and-yang.html">yin and yang</a> </li> </ul> </nav> <div class="social-icons"> <a class="sticky-contact-link" href="/contact"> contact me&nbsp; </a> <a href="https://twitter.com/alec4nandes" target="_blank" rel="noopener"> <img src="/assets/icons8-twitter-32.png" alt="Twitter icon of little bird"/> </a> <a href="https://instagram.com/alec4nandes" target="_blank" rel="noopener"> <img src="/assets/icons8-instagram-32.png" alt="Instagram icon of polaroid camera"/> </a> </div> </div> </div> <div class="pagination"> <a href="/blog/"><< newer</a> <p>page 2 of 3</p> <a href="/blog/2/">older >></a> </div> <main> <article> <h2 class="title"> <a href="/blog/mushrooms.html">Mushrooms</a> </h2> <h3 class="subtitle">Know your limits when working with third-party APIs.</h3> <p class="date-posted">2023-06-09T13:52-07:00</p> <figure> <img src="/blog/feature-images/mushrooms.jpg" /> <figcaption>Photo by <a href="https://unsplash.com/@rf999?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText" target="_blank" rel="noopener">Reto Furrer</a> on <a href="https://unsplash.com/photos/u1t5jP607V4?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText" target="_blank" rel="noopener">Unsplash</a></figcaption> </figure> <div><p><a href="/mushrooms" target="_blank" rel="noopener"><em>View this project.</em></a></p> <p> I like my data as raw as sushi. Show me some JSON and I'll start piecing together all the ways I can parse and display it for any user. It's because I have the mind of a web developer, and I've accepted that. We're an odd, creative, stubborn bunch with a hint of a god complex. Our digital creations are our babies and we don't want anyone playing with them in ways we don't expect. That's why developers need to play nice in the sandbox – they need to respect each other's rules. </p> <p> Last year I discovered <a href="https://github.com/MushroomObserver/mushroom-observer/blob/master/README_API.md" target="_blank" rel="noopener">Mushroom Observer's API</a> and fell in love. This data endpoint contains photos, dates and coordinates of different fungi found around the world. It's a valuable tool for amateur mycologists like me who want to get an idea of the mushrooms growing in their area, but this tool was from a third party and had rules I didn't fully understand. </p> <p> I set up <a href="https://mapsplatform.google.com/" target="_blank" rel="noopener">Google Map's API</a> and started writing a function that took coordinates from the embedded map along with a radius in miles and then fetched data using Mushroom Observer's endpoint. The function returned data about a random mushroom within the user's specified boundaries. </p> <p> Soon I was testing coordinates all over the globe, amazed to see beautiful high-resolution images of local species anywhere I clicked on the map. The excitement of browsing these world-wide woods gave me an idea to pull as many images of the randomly selected mushrooms as possible, even from different Mushroom Observer posts. I pushed each image gallery to be bigger and bigger, but I also pushed my luck. </p> <p> My greed for more images led me to make too many API calls within too short a timeframe. Instead of picture links and fungi data, the API now returned a message warning me that I was abusing the service. A brief panic arose. Here I was deep into testing my new site, and the souce of all my data locked me out. </p> <p> Up until that point I wasn't a fan of hiding my IP address. I never had anything to hide online, and I was usually too busy on international trips to stream my American TV shows using a <a href="https://en.wikipedia.org/wiki/Virtual_private_network" target="_blank" rel="noopener">VPN</a>. Now I actually needed one. Thankfully I found free VPN apps for mobile and desktop that allowed me to hide my blacklisted IP address on both devices. I could keep testing the website I had already invested so much time into, but it wasn't the most honest solution. As <a href="/moon-sun-tides" target="_blank" rel="noopener">a fellow API developer</a> I can feel Mushroom Observer's frustration at me dodging their blacklist, yet I also think that a permanent ban is a major deterrent for curious developers who innovate with this amazing service. </p> <p> At the end of the day it's the endpoint developers' right to protect their data and servers from abusive and repetitive calls. Mushroom Observer's warning message even directed me to contact their team and explain the purpose of my app. Only then will my home IP be removed from their blacklist. This is more than fair, and I plan to contact them ASAP to streamline development of <a href="/mushrooms/find.html" target="_blank" rel="noopener">this feature</a> on my <a href="/mushrooms" target="_blank" rel="noopener">mushrooms website</a>. </p> <p> To effectively use existing tools to build any project, it's necessary to understand the limitations of those tools. There are plenty of things they can do, plenty of things they can't, and things they can do but simply shouldn't. Building on the web is no different. Be sure to research <strong>all</strong> related technologies before you dive into your next project so that you fully understand how far you can push it. </p></div> <div class="tags"> tags: <ul class="commas"> <li> <a href="/tags/projects.html">projects</a> </li> <li> <a href="/tags/mushrooms.html">mushrooms</a> </li> <li> <a href="/tags/geolocation.html">geolocation</a> </li> <li> <a href="/tags/google-maps.html">Google Maps</a> </li> <li> <a href="/tags/mushroom-observer.html">Mushroom Observer</a> </li> <li> <a href="/tags/api.html">API</a> </li> <li> <a href="/tags/vpn.html">VPN</a> </li> </ul> </div> <button class="share-button" data-id="mushrooms" onclick="copyLink(event)"> share <img src="/assets/icons8-share-24.png" alt="" /> </button> </article> <article> <h2 class="title"> <a href="/blog/moon-sun-tides-api.html">Moon-Sun-Tides API</a> </h2> <h3 class="subtitle">Read the code documentation before you copy and paste.</h3> <p class="date-posted">2023-06-02T13:52-07:00</p> <figure> <img src="/blog/feature-images/moon-sun-tides-api.jpg" /> <figcaption>Photo by <a href="https://unsplash.com/@tegethoff?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText" target="_blank" rel="noopener">Mark Tegethoff</a> on <a href="https://unsplash.com/photos/NbgQfUvKFE0?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText" target="_blank" rel="noopener">Unsplash</a></figcaption> </figure> <div><p><a href="/moon-sun-tides" target="_blank" rel="noopener"><em>View this project.</em></a></p> <p> Creating <a href="/moon-sun-tides" target="_blank" rel="noopener">my own API</a> proved that rarely anything in programming is accomplished alone – instead it's built on the backs of the many engineers that came before. Another lesson it taught me: don't just copy code from <a href="https://stackoverflow.com" target="_blank" rel="noopener">Stack Overflow</a>. This online forum is only a starting point, and programmers should <strong>always</strong> read a solution's original documentation to really understand what they're working with. </p> <p> The API that I built combined, in my opinion, the most requested time data for natural phenomena: sunsets, sunrises, full and new moons, and tides both high and low. I was surprised a single simple endpoint for all this data didn't already exist. Maybe I didn't dig deep enough, or maybe I didn't want to. What I wanted instead was to create my own. </p> <p> The online forums helped me find three separate sources for this project: </p> <ul> <li><a href="https://sunrise-sunset.org/api" target="_blank" rel="noopener">Sunrise-Sunset</a></li> <li><a href="https://www.npmjs.com/package/lune" target="_blank" rel="noopener">lune (npm)</a></li> <li><a href="https://api.tidesandcurrents.noaa.gov/api/prod/" target="_blank" rel="noopener">NOAA Tides and Currents</a></li> </ul> <p> These endpoints had already done the hard work of observing the natural world. Now all I needed to do was make one simple API from these three more complicated ones. </p> <p> Stack Overflow had great examples of each one, and all the data seemed correct and uniform with one exception: <a href="https://api.tidesandcurrents.noaa.gov/api/prod/" target="_blank" rel="noopener">NOAA's Tides API</a>. The example I found returned dates and times in the coordinates' local timezone (without telling the timezone), but I needed them to be in the same <a href="https://en.wikipedia.org/wiki/Coordinated_Universal_Time" target="_blank" rel="noopener">UTC</a> timezone of the sun and moon times. </p> <p> <em> Side note: If users want to convert UTC timestamps to ones in their local timezones, they can simply create new JavaScript <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noopener">Date objects</a> from the timestamps: </em> </p> <pre><code><xmp>new Date("2023-01-10 13:00 +0");
// prints "Tue Jan 10 2023 05:00:00 GMT-0800 (Pacific Standard Time)"
// since I'm in California.
</xmp></code></pre> <h3>Solving the problem</h3> <p> This situation got me thinking about how to convert a local time to a UTC timestamp when I knew the coordinates but not the timezone. I came up with the following approach in <a href="https://en.wikipedia.org/wiki/Pseudocode" target="_blank" rel="noopener">pseudocode</a>: </p> <ul> <li>Calculate the timezone offset from UTC (for example, Pacific Standard Time = -8).</li> <li>Create <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals" target="_blank" rel="noopener">a template literal</a> with the local date, time and timezone offset: <pre><code><xmp>`${date} ${time} ${offset}`</xmp></code></pre></li> <li>Pass the resulting string into <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date" target="_blank" rel="noopener">a new Date object</a>.</li> <li>Get the UTC timestamp from this Date object with the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toUTCString" target="_blank" rel="noopener">.toUTCString()</a> method.</li> </ul> <p> There is a nifty node package called <a href="https://www.npmjs.com/package/geo-tz" target="_blank" rel="noopener">geo-tz</a> that takes coordinates and returns their timezone offset, which let me successfully implement the pseudocode above. Hooray, the function worked! But did I really need to do all those extra steps? </p> <h3>An easier solution</h3> Even though the approach above works, it's redundant for the tides API. I don't need to convert any timezones because NOAA's API can do it for me with its <a href="https://api.tidesandcurrents.noaa.gov/api/prod/#timezone" target="_blank" rel="noopener">time_zone</a> parameter. The example endpoint I found on the forums set this value as <em>lst</em> for <em>Local Standard Time</em>, but the original documentation listed another option: <em>gmt</em> for <em>Greenwich Mean Time</em>, aka <a href="https://en.wikipedia.org/wiki/Coordinated_Universal_Time" target="_blank" rel="noopener">UTC</a>. <p> I wouldn't have known this was possible if I hadn't studied the code docs. <strong>Always</strong> review the original documentation for any language, class or API that you use. Stack Overflow is a great tool for pointing programmers in the right direction, but it's up to them to go further. They need to know <strong>both</strong> that a solution works <strong>and how</strong> it can work better for their specific project. </p></div> <div class="tags"> tags: <ul class="commas"> <li> <a href="/tags/projects.html">projects</a> </li> <li> <a href="/tags/api.html">API</a> </li> <li> <a href="/tags/javascript.html">JavaScript</a> </li> <li> <a href="/tags/dates.html">dates</a> </li> <li> <a href="/tags/documentation.html">documentation</a> </li> <li> <a href="/tags/pseudocode.html">pseudocode</a> </li> <li> <a href="/tags/template-literals.html">template literals</a> </li> <li> <a href="/tags/nature.html">nature</a> </li> </ul> </div> <button class="share-button" data-id="moon-sun-tides-api" onclick="copyLink(event)"> share <img src="/assets/icons8-share-24.png" alt="" /> </button> </article> <article> <h2 class="title"> <a href="/blog/kings-corner.html">Kings Corner</a> </h2> <h3 class="subtitle">Learn about Firebase’s onSnapshot listener.</h3> <p class="date-posted">2023-05-26T13:52-07:00</p> <figure> <img src="/blog/feature-images/kings-corner.jpg" /> <figcaption>The logo I designed for <a href="/arcade" target="_blank" rel="noopener">Kings Corner</a>.</figcaption> </figure> <div><p><a href="/arcade" target="_blank" rel="noopener"><em>View this project.</em></a></p> <p> If I were a JavaScript teacher, my final project for the class would ask each student to build a card game of their choice. It would be a great exercise in data structuring – I personally love JavaScript's <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set" target="_blank" rel="noopener">Set data object</a> for projects like these – and the game logic requires state management and rule checking to ensure each play is valid. I know all this from experience building my own card game. </p> <p> Last year I taught some friends a game called <a href="/arcade" target="_blank" rel="noopener">Kings Corner</a> and discovered it was a hit after each new player couldn't seem to get enough. The easiest way to describe it is "multi-player solitaire" – you can <a href="/arcade" target="_blank" rel="noopener">learn more about the rules here</a> after registering for an account. </p> <p> Thanks to <a href="https://firebase.google.com/" target="_blank" rel="noopener">Google's Firebase</a> I was able to quickly set up account authentication and game data storage. What I really needed, however, was a database listener that could push each move update to the user interface in real time. I didn't want players to manually refresh the app to check if it's their turn. </p> <p> Thankfully, Firebase has <a href="https://firebase.google.com/docs/firestore/query-data/listen" target="_blank" rel="noopener">onSnapshot</a>. I set up this listener in my React app using the <a href="https://reactjs.org/docs/hooks-effect.html" target="_blank" rel="noopener">useEffect hook</a> and an empty array of dependencies. This creates the listener when the app initially loads, returning any changes detected in the game's database right after they're committed. </p> <pre><code><xmp>useEffect(
    () => {
        // load the game and listen for changes
        const theDoc = doc(firestore, "Games", gameKey),
            unsubscribe = onSnapshot(theDoc, gameplayCallback);
        // unsubscribe when the component unmounts
        return unsubscribe;
    },
    []
);
</xmp></code></pre> <p> Now I could see my opponent's moves as they made them, click by click or tap by tap. It was almost as fun as sitting at the table with friends and family – the only thing missing was the lively laughter and conversation, which is why I plan to include a chat feature in the near future. </p> <p> If no one's online to play, the computer can serve as a worthy adversary. The computer plays using a recursive function that keeps scanning cards until no more valid plays remain. The algorithm was simple to implement yet difficult to beat; I had created a perfectionist player that really keeps you on your toes. </p> <p> I loved turning a relatively unknown card game into a web app that people anywhere can enjoy, but the best reward has been the joy it's brought my loved ones. Hopefully interest keeps growing. If it does, I would like to start a player mailing list and even look into generating some ad revenue. </p> <p> My own advertising budget only stretches so far, so if you love <a href="/arcade" target="_blank" rel="noopener">Kings Corner</a> would you consider sharing <a href="/arcade" target="_blank" rel="noopener">this link</a> with your loved ones? Or if you have your own project ideas and need some help, please send me an email at <a href="mailto:al@fern.haus">al@fern.haus</a>. </p></div> <div class="tags"> tags: <ul class="commas"> <li> <a href="/tags/projects.html">projects</a> </li> <li> <a href="/tags/cards.html">cards</a> </li> <li> <a href="/tags/games.html">games</a> </li> <li> <a href="/tags/google-firebase.html">Google Firebase</a> </li> <li> <a href="/tags/javascript.html">JavaScript</a> </li> <li> <a href="/tags/react.html">React</a> </li> <li> <a href="/tags/hooks.html">hooks</a> </li> <li> <a href="/tags/event-listeners.html">event listeners</a> </li> </ul> </div> <button class="share-button" data-id="kings-corner" onclick="copyLink(event)"> share <img src="/assets/icons8-share-24.png" alt="" /> </button> </article> <article> <h2 class="title"> <a href="/blog/dharma-gem.html">Dharma Gem</a> </h2> <h3 class="subtitle">Make static text come to life without coupling your code.</h3> <p class="date-posted">2023-05-19T13:52-07:00</p> <figure> <img src="/blog/feature-images/dharma-gem.jpg" /> <figcaption>A screenshot of my web app <a href="/dharma-gem" target="_blank" rel="noopener">Dharma Gem</a>.</figcaption> </figure> <div><p><a href="/dharma-gem" target="_blank" rel="noopener"><em>View this project.</em></a></p> <p> I loved designing pages for each week's newspaper in journalism school. Every layout was a visual exercise that let me express myself beyond the written word, but there were still rules. A good publication doesn't bury the big story on the back page and everything has to fit perfectly within the margins – there can be no excessive whitespace and no text overflow. </p> <p> Web design doesn't have these physical restrictions. There is no limited real estate for 5,000-word stories and many readers no longer flip pages, they scroll them. Maybe the most exciting feature of the web is our ability to navigate content in a virtual 3-dimensional space thanks to advanced CSS features. Text can now come to life in ways that engage users beyond the content of the words. </p> <p> For instance, rather than scrolling straight down a long website with many articles you could instead flip some 3D object to reveal new content on each side. I used this design not for news articles, but for Buddhism's Eightfold Path by building <a href="/dharma-gem" target="_blank" rel="noopener">a virtual 8-sided die</a> where each face contains one part of the Path. To create this object I used CSS's <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/clip-path" target="_blank" rel="noopener">clip-path property</a> to cut the eight square divs into triangles, CSS <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform" target="_blank" rel="noopener">transform</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/transition" target="_blank" rel="noopener">transition</a> to angle and flip them, and React's <a href="https://reactjs.org/docs/hooks-state.html" target="_blank" rel="noopener">useState hook</a> to keep track of which side was showing. </p> <p> Building the base object was like sculpting clay in a digital 3D environment. I grew more excited as the page acquired greater depth and dimension. Formatting the text of each side, however, was a little less enjoyable. I just couldn't find a uniform layout for my diverse set of data. After playing around with different text templates and not finding the right one, I learned the importance of decoupling. </p> <p> My computer science professors drilled into me maxims that apply across all programming languages. One of these was DRY – an acronym that stands for "Don't Repeat Yourself." An example of the DRY principle is declaring a single function and calling it in multiple places rather than writing that function's declaration over and over again throughout the code. It's a practical approach that has reduced file sizes in all my projects, yet when programmers decide to be DRY they risk coupling their code too tightly. </p> <p> Coupling is when two or more components share functions and data. We want our code to be DRY yet not too tightly coupled. The codebase becomes difficult to manage when this happens, as I discovered with my SideText component in React. </p> <p> This component formatted text in a highly coupled way, which would have worked if the data for each side were more symmetrical. Some parts of the Eightfold Path had arrays that others didn't and even extra images. Pretty soon this single component I built was full of conditional renders. Sections of text were displaying in different places depending on if there were images or not, and using the same component for every side no longer made sense. </p> <p> When I eventually decoupled the SideText component into separate layouts, I still kept my code as DRY as possible. I extracted shared features into sub-components and then imported them as needed to give each face its own format and personality. By using these modular imports I was obeying all those professors' voices that echoed inside my head, commanding me: "Don't Repeat Yourself!" I did, however, end up with multiple component files instead of just one SideText.js, but this was necessary to achieve the look I wanted. </p> <p> Decoupling finally allowed me to create <a href="/dharma-gem" target="_blank" rel="noopener">a fun digital 3D resource for anyone studying the Eightfold Path</a>. If you're struggling to balance how a site looks and behaves across many different elements, ask yourself if the code is too tightly coupled. Fixing this just might provide the extra flexibility you need to finish that amazing app. </p> </div> <div class="tags"> tags: <ul class="commas"> <li> <a href="/tags/projects.html">projects</a> </li> <li> <a href="/tags/css.html">CSS</a> </li> <li> <a href="/tags/3d.html">3D</a> </li> <li> <a href="/tags/coupling.html">coupling</a> </li> <li> <a href="/tags/react.html">React</a> </li> <li> <a href="/tags/layouts.html">layouts</a> </li> <li> <a href="/tags/dry.html">DRY</a> </li> </ul> </div> <button class="share-button" data-id="dharma-gem" onclick="copyLink(event)"> share <img src="/assets/icons8-share-24.png" alt="" /> </button> </article> <article> <h2 class="title"> <a href="/blog/iching.html">I-Ching</a> </h2> <h3 class="subtitle">Consult an ancient oracle on a modern webpage.</h3> <p class="date-posted">2023-05-12T13:53-07:00</p> <figure> <img src="/blog/feature-images/iching.jpg" /> <figcaption>Photo by <a href="https://unsplash.com/@hrustall?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText" target="_blank" rel="noopener">Дмитрий Хрусталев-Григорьев</a> on <a href="https://unsplash.com/photos/CFqUdmzzti0?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText" target="_blank" rel="noopener">Unsplash</a></figcaption> </figure> <div><p><a href="/iching" target="_blank" rel="noopener"><em>View this project.</em></a></p> <p> It's difficult to live a spiritual life in Southern California. Here toxic body images and inflated egos are unavoidable, but a Taoist outlook keeps me humble. How can you be upset or self-conscious when you realize nothing lasts forever? To the Taoist, life is nothing more than a rhythmic tidal current of lows and highs, yin and yang. </p> <p> Yet one of the few things to remain constant over the past three millennia is the I-Ching. It is a divinatory reference for China's ancient oracles and one of the most famous texts of Taoism. Personally, I find it to be a bit too esoteric (and that's saying a lot!), but I'm interested in the parts of the I-Ching that are related to computer science, mainly binary code. </p> <p> The old text combines the binary of yin and yang in triplicate to form <a href="/iching/bagua" target="_blank" rel="noopener">eight classical elements</a> (2^3=8), then joins these elements into <a href="/iching/text" target="_blank" rel="noopener">64 different pairs</a> (8^2=64) called hexagrams. I found it mathematically fascinating and decided to write my own JavaScript program for telling fortunes with the I-Ching. </p> <p> The divination method and logic were pretty straightforward and therefore easy to implement as JavaScript, but making it all look realistic was a different story. Modern I-Ching readings involve flipping three coins six times to get a hexagram, and I had a vision of three virtual coins flipping and falling on the screen before the user sees a reading. It was an enjoyable design challenge that combined separate CSS <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Animations/Using_CSS_animations" target="_blank" rel="noopener">animations</a> at random <a href="https://developer.mozilla.org/en-US/docs/Web/API/setInterval" target="_blank" rel="noopener">intervals</a> set with JavaScript. I wrote a post about <a href="/post/?id=rotate-2-sided-object-show-both-sides-CSS" target="_blank" rel="noopener">the flip animations here</a>. </p> <p> What was once a single boring click is now a dynamic experience. The user feels even more actively involved in their reading by watching the coin flips that will determine their fate. I highly encourage you to <a href="/iching/cast" target="_blank" rel="noopener">check it out here</a>. Who knows? You might end up with some good advice. </p> </div> <div class="tags"> tags: <ul class="commas"> <li> <a href="/tags/projects.html">projects</a> </li> <li> <a href="/tags/css.html">CSS</a> </li> <li> <a href="/tags/animations.html">animations</a> </li> <li> <a href="/tags/javascript.html">JavaScript</a> </li> <li> <a href="/tags/taoism.html">Taoism</a> </li> <li> <a href="/tags/china.html">China</a> </li> <li> <a href="/tags/yin-and-yang.html">yin and yang</a> </li> </ul> </div> <button class="share-button" data-id="iching" onclick="copyLink(event)"> share <img src="/assets/icons8-share-24.png" alt="" /> </button> </article> </main> <div class="pagination"> <a href="/blog/"><< newer</a> <p>page 2 of 3</p> <a href="/blog/2/">older >></a> </div> <a href="/contact" class="sticky-contact"> <img src="/assets/mail-icon.png" alt="" /> </a> <footer> <div id="footer-container"> <a href="/">home</a> <a href="/blog">blog</a> <a href="/contact">contact</a> </div> </footer> <script src="/src/scripts.js"></script> </body> </html>